<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tester Apps Script</title>
</head>
<body>
  <h1>Tester para Apps Script</h1>

  <button id="send">Enviar Test</button>

  <pre id="output"></pre>

  <script>
    const URL = "https://script.google.com/macros/s/AKfycbzWYVJC4k-X2Ag-lKnfDZbtYcZ439JzATAOND8OeKfenZ8AHknImYPZGaodnqQ8wpJX/exec"; // <-- pega aquÃ­ tu URL /exec

    document.getElementById("send").onclick = () => {
  document.getElementById("output").textContent = "Enviando...";

  fetch(URL, { // Usamos la constante URL
    method: "POST",
    body: JSON.stringify({
      name: "test",
      time: "12.3"
    })
  })
    .then(async (res) => { // Primera promesa: recibir la respuesta
      const data = await res.json();
      console.log("Respuesta (Consola):", data); // Opcional: registrar en consola
      
      // Actualizar la interfaz de usuario
      document.getElementById("output").textContent =
        "STATUS: " + res.status + "\n\n" + JSON.stringify(data, null, 2);
    })
    .catch((err) => { // Manejo de cualquier error de red o de proceso
      console.error("Error:", err); // Opcional: registrar en consola
      document.getElementById("output").textContent = "ERROR:\n" + err;
    });
};
      .then(async res => {
        const data = await res.json();
        document.getElementById("output").textContent =
          "STATUS: " + res.status + "\n\n" + JSON.stringify(data, null, 2);
      })
      .catch(err => {
        document.getElementById("output").textContent = "ERROR:\n" + err;
      });
    };
  </script>
</body>
</html>
